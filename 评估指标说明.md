# 耕地识别系统评估指标说明

## 1. 核心评估指标

### 1.1 像素级别指标

#### 混淆矩阵（Confusion Matrix）
```
实际\预测    耕地    非耕地
耕地         TP     FN
非耕地       FP     TN
```

- **TP (True Positive)**: 正确识别的耕地像素
- **TN (True Negative)**: 正确识别的非耕地像素
- **FP (False Positive)**: 错误识别为耕地的像素（误报）
- **FN (False Negative)**: 耕地未被识别（漏报）

#### 基础指标
- **精确率 (Precision)** = TP / (TP + FP)
  - 在所有预测为耕地的像素中，真正是耕地的比例
  - 衡量"预测准不准"

- **召回率 (Recall/Sensitivity)** = TP / (TP + FN)
  - 在所有实际是耕地的像素中，被正确识别的比例
  - 衡量"找得全不全"

- **F1分数 (F1-Score)** = 2 × (Precision × Recall) / (Precision + Recall)
  - 精确率和召回率的调和平均
  - 综合评价指标

- **准确率 (Accuracy)** = (TP + TN) / (TP + TN + FP + FN)
  - 所有像素中分类正确的比例

#### IoU（交并比）
- **IoU** = TP / (TP + FP + FN)
  - 预测区域与真实区域的交集/并集
  - 语义分割的标准指标
  - > 0.5 通常是可接受的，> 0.7 是良好的

### 1.2 区域级别指标

#### 斑块匹配度
- **斑块IoU**: 单个耕地斑块的重叠度
- **斑块数量差异**: 预测斑块数 vs 真实斑块数
- **平均斑块面积差异**: 预测面积 vs 真实面积

### 1.3 面积级别指标

#### 面积误差
- **绝对面积误差** = |预测面积 - 真实面积|
- **相对面积误差** = |预测面积 - 真实面积| / 真实面积 × 100%
- **亩级误差** = 面积误差（平方米） / 666.67

## 2. 如何进行评估？

### 2.1 需要真实标签（Ground Truth）
要进行评估，您需要：
1. **手动标注的验证区域** - 在小范围内精确绘制耕地边界
2. **历史对比数据** - 使用去年的准确耕地数据
3. **实地验证** - GPS实地测量部分区域

### 2.2 评估方法

#### 方法1：采样评估
```python
# 随机采样100个点进行人工验证
验证点数 = 100
正确数 = 人工验证正确的像素数
抽样准确率 = 正确数 / 验证点数
```

#### 方法2：交叉验证
```python
# 将数据分为训练集和验证集
训练集比例 = 0.8
验证集比例 = 0.2
```

#### 方法3：K折交叉验证
```python
# 将数据分为K份，轮流作为验证集
K = 5
每份准确率 = []
for i in range(K):
    训练集 = 数据[除了第i份]
    验证集 = 数据[第i份]
    准确率 = 在验证集上测试
    每份准确率.append(准确率)
平均准确率 = sum(每份准确率) / K
```

## 3. 评估标准参考

### 3.1 优秀标准
- IoU > 0.75
- F1分数 > 0.85
- 面积误差 < 5%

### 3.2 良好标准
- IoU > 0.65
- F1分数 > 0.75
- 面积误差 < 10%

### 3.3 可接受标准
- IoU > 0.50
- F1分数 > 0.65
- 面积误差 < 20%

## 4. 实用评估工具

### 4.1 可视化对比
- 叠加显示：预测结果 vs 真实标签
- 错误高亮：用不同颜色显示FP和FN
- 差异统计：显示各类错误的像素数

### 4.2 评估报告模板
```
耕地识别评估报告
================
测试时间：2024-12-14
测试图像：xxx.tif

一、像素级别指标
- 总像素数：1,000,000
- 耕地像素数：200,000
- TP: 180,000
- FP: 30,000
- FN: 20,000
- TN: 770,000

- 精确率: 85.7%
- 召回率: 90.0%
- F1分数: 87.8%
- IoU: 78.3%
- 准确率: 95.0%

二、面积级别指标
- 真实耕地面积：300.0亩
- 预测耕地面积：315.0亩
- 面积误差：15.0亩（5.0%）

三、评估结论
- 识别质量：优秀
- 面积精度：良好
- 建议：可用于生产环境
```

## 5. 快速验证方法

如果没有真实标签，可以：

### 5.1 自我一致性检查
- 同一区域多次识别，结果是否一致
- 不同时间拍摄的同一区域，识别差异是否合理

### 5.2 交叉验证不同方法
- 模型识别 vs 手动阈值识别
- 不同模型的识别结果对比

### 5.3 专家抽样检查
- 邀请农业专家抽样验证
- 重点检查边界区域和疑难区域

## 6. 实施建议

1. **建立验证数据集**：选择有代表性的区域进行精确标注
2. **定期评估**：每月进行一次全面评估
3. **记录评估结果**：建立评估档案，追踪系统性能变化
4. **持续优化**：根据评估结果调整模型参数